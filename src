src/vigenereciphercase3KazimJafri.cpp
#include <iostream>
#include <string>
#include <cctype>
using namespace std;

string cleanKeyword(const string& keyword)
{
    string cleaned = "";
    for (char ch : keyword)
    {
        if (isalpha(static_cast<unsigned char>(ch)))
            cleaned += static_cast<char>(toupper(static_cast<unsigned char>(ch)));
    }
    return cleaned;
}

char encryptChar(char c, char keyChar)
{
    int shift = keyChar - 'A';

    if (isupper(static_cast<unsigned char>(c)))
        return char(((c - 'A' + shift) % 26) + 'A');
    else
        return char(((c - 'a' + shift) % 26) + 'a');
}

char decryptChar(char c, char keyChar)
{
    int shift = keyChar - 'A';

    if (isupper(static_cast<unsigned char>(c)))
        return char(((c - 'A' - shift + 26) % 26) + 'A');
    else
        return char(((c - 'a' - shift + 26) % 26) + 'a');
}

string vigenereEncrypt(const string& message, const string& keyword)
{
    string result = "";
    int keyIndex = 0;

    for (char c : message)
    {
        if (isalpha(static_cast<unsigned char>(c)))
        {
            result += encryptChar(c, keyword[keyIndex]);
            keyIndex = (keyIndex + 1) % keyword.length();
        }
        else
        {
            result += c;
        }
    }
    return result;
}

string vigenereDecrypt(const string& message, const string& keyword)
{
    string result = "";
    int keyIndex = 0;

    for (char c : message)
    {
        if (isalpha(static_cast<unsigned char>(c)))
        {
            result += decryptChar(c, keyword[keyIndex]);
            keyIndex = (keyIndex + 1) % keyword.length();
        }
        else
        {
            result += c;
        }
    }
    return result;
}

int main()
{
    string message, keyword;

    cout << "Case 3 | Vigenere Cipher Encryption and Decryption\n\n";

    cout << "Enter message: ";
    getline(cin, message);

    cout << "Enter keyword: ";
    getline(cin, keyword);

    string cleanKey = cleanKeyword(keyword);

    if (cleanKey.length() == 0)
    {
        cout << "Invalid keyword. Keyword must contain letters.\n";
        return 0;
    }

    string encrypted = vigenereEncrypt(message, cleanKey);
    string decrypted = vigenereDecrypt(encrypted, cleanKey);

    cout << "\nOriginal message:  " << message << endl;
    cout << "Encrypted message: " << encrypted << endl;
    cout << "Decrypted message: " << decrypted << endl;

    return 0;
}
